(this.webpackJsonpwallet=this.webpackJsonpwallet||[]).push([[0],{27:function(e,t,n){e.exports=n(41)},32:function(e,t,n){},33:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(23),o=n.n(l);n(32),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(9),s=n(1),u=n(3),i=n(4);n(33);function m(){var e=Object(u.a)(["\n  color: var(--white);\n  border: 1px solid var(--white);\n  background: var(--black);\n  box-sizing: border-box;\n  cursor: pointer;\n  padding: 16px 24px;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  outline: none;\n  border-radius: 5px;\n  text-decoration: none;\n  display: inline-block;\n  transition: opacity .3s;\n\n  &:hover,\n  &:focus {\n    opacity: .5;\n  }\n"]);return m=function(){return e},e}var p=i.b.button(m());var d=function(){return r.a.createElement("nav",{className:"Menu"},r.a.createElement(c.b,{to:"/"},r.a.createElement("span",{className:"Logo"},"Fuzzy Trader")),r.a.createElement("div",null,r.a.createElement(p,{as:c.b,className:"ButtonLink",to:"/wallet/dashboard"},"Wallet"),r.a.createElement(p,{as:c.b,className:"ButtonLink",to:"/wallet/apply"},"Apply")))};function f(){var e=Object(u.a)(["\n  width: 10%;\n  height: auto;\n"]);return f=function(){return e},e}function b(){var e=Object(u.a)(["\n  background: var(--black);\n  border-top: 2px solid var(--primary);\n  padding-left: 16px;\n  padding-right: 16px;\n  padding-top: 32px;\n  padding-bottom: 32px;\n  color: var(--white);\n  text-align: center;\n  @media (max-width: 800px) {\n    margin-bottom: 50px;\n  }\n"]);return b=function(){return e},e}var g=i.b.footer(b()),h=i.b.img(f());var v=function(){return r.a.createElement(g,null,r.a.createElement("a",{href:"https://bxblue.com.br/"},r.a.createElement(h,{src:"https://bxblue.com.br/aprenda/wp-content/uploads/2018/01/bxblue-newlogo.png",alt:"Logo bxblue"})),r.a.createElement("p",null,"Made by"," ",r.a.createElement("a",{href:"https://github.com/guilemoss/bxblue"},"guilemoss")))};function E(){var e=Object(u.a)(["\n  paddingAll: ",";\n  "]);return E=function(){return e},e}function y(){var e=Object(u.a)(["\n  background-color: var(--black);\n  color: var(--white);\n  flex: 1;\n  padding-top: 50px;\n  padding-left: 5%;\n  padding-right: 5%;\n  ","\n"]);return y=function(){return e},e}var x=i.b.main(y(),(function(e){var t=e.paddingAll;return Object(i.a)(E(),t)}));var w=function(e){var t=e.children,n=e.paddingAll;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(x,{paddingAll:n},t),r.a.createElement(v,null))};function j(){var e=Object(u.a)(['\n    &:not([type="color"]) + span {\n      transform: scale(.6) translateY(-10px);\n    }\n  ']);return j=function(){return e},e}function A(){var e=Object(u.a)(['\n  background: #53585D;\n  color: #F5F5F5;\n  display: block;\n  width: 100%;\n  height: 57px;\n  font-size: 18px;\n  \n  outline: 0;\n  border: 0;\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid #53585D;\n  \n  padding: 16px 16px;\n  margin-bottom: 45px;\n  \n  resize: none;\n  border-radius: 4px;\n  transition: border-color .3s;\n  \n  &:focus {\n    border-bottom-color: var(--primary);\n  }\n  &:focus:not([type="color"]) + span {\n    transform: scale(.6) translateY(-10px);\n  }\n  ',"\n"]);return A=function(){return e},e}function k(){var e=Object(u.a)(["\n  color: #6c757d;\n  font-size: 80%;\n  font-weight: 400;\n"]);return k=function(){return e},e}function S(){var e=Object(u.a)(["\n  color: #E5E5E5;\n  height: 57px;\n  position: absolute; \n  top: 0;\n  left: 16px;\n  \n  display: flex;\n  align-items: center;\n  \n  transform-origin: 0% 0%;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 300;\n  \n  transition: .1s ease-in-out;\n"]);return S=function(){return e},e}function O(){var e=Object(u.a)([""]);return O=function(){return e},e}function I(){var e=Object(u.a)(['\n  position: relative; \n  textarea {\n    min-height: 150px;\n  }\n  input[type="color"] {\n    padding-left: 56px;\n  }\n']);return I=function(){return e},e}var N=i.b.div(I()),F=i.b.label(O());F.Text=i.b.span(S()),F.TextHelp=i.b.small(k());var C=i.b.input(A(),(function(e){return e.hasValue&&Object(i.a)(j())}));function T(e){var t=e.label,n=e.type,a=e.name,l=e.value,o=e.onChange,c=e.suggestions,s=e.onBlur,u=e.pattern,i=e.min,m=e.max,p=e.step,d="id_".concat(a),f="textarea"===n?"textarea":"input",b=Boolean(l.length),g=Boolean(c.length);return r.a.createElement(N,null,r.a.createElement(F,{htmlFor:d},r.a.createElement(C,{as:f,id:d,type:n,value:l,name:a,hasValue:b,onChange:o,onBlur:s,autoComplete:g?"off":"on",list:g?"suggestionFor_".concat(d):void 0,pattern:u,min:i,max:m,step:p}),r.a.createElement(F.Text,null,t,":"),g&&r.a.createElement("datalist",{id:"suggestionFor_".concat(d)},c.map((function(e){return r.a.createElement("option",{value:e,key:"suggestionFor_".concat(d,"_option").concat(e)},e)})))))}T.defaultProps={type:"text",value:"",onChange:function(){},suggestions:[]};var B=T,D=n(16),W=n(20),q=n(12);var z=function(e){var t=Object(a.useState)(e),n=Object(q.a)(t,2),r=n[0],l=n[1];return{values:r,handleChange:function(e){var t,n;t=e.target.getAttribute("name"),n=e.target.value,l(Object(W.a)(Object(W.a)({},r),{},Object(D.a)({},t,n)))},clearForm:function(){l(e)}}},H=n(7),P=n.n(H),U=n(11);var _={getWalletCombo:function(){return fetch("api/wallet/combo").then(function(){var e=Object(U.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=4;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 4:throw new Error("Coulnd't get data");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getWallet:function(e){return fetch("../api/wallet/".concat(e)).then(function(){var e=Object(U.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=4;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 4:throw new Error("Coulnd't get data");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},purchaseAsset:function(e){return fetch("../api/wallet/purchase",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){var e=Object(U.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.ok);case 2:throw new Error("Couldn't purchase the asset.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}};var L=function(){var e=localStorage.getItem("quantityAssetsForecast")?localStorage.getItem("quantityAssetsForecast"):3;localStorage.setItem("quantityAssetsForecast",e);var t=localStorage.getItem("walletName")?localStorage.getItem("walletName"):"",n=z({walletName:t,quantityAssetsForecast:e}),l=n.values,o=n.handleChange;return Object(a.useEffect)((function(){_.getWalletCombo().then((function(e){localStorage.setItem("walletId",e[0].id),localStorage.setItem("walletName",e[0].name)}))}),[]),r.a.createElement(w,null,r.a.createElement("h1",null,"Settings"),r.a.createElement("form",null,r.a.createElement(B,{label:"Quantity assets forecast",type:"number",name:"quantityAssetsForecast",value:l.quantityAssetsForecast.toString(),onChange:o,onBlur:function(){localStorage.setItem("quantityAssetsForecast",l.quantityAssetsForecast)},pattern:"[0-9]*",min:"3",max:"20",step:"5"})))};var M={getAll:function(){return fetch("../api/asset").then(function(){var e=Object(U.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=5;break}return e.next=3,t.json();case 3:return n=e.sent,e.abrupt("return",n);case 5:throw new Error("Coulnd't get data");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getForecast:function(e,t,n){var a="";return parseInt(t)>0&&(a="?pageSize=".concat(t)),parseInt(n)>0&&(a+="&pageIndex=".concat(n)),fetch("../api/asset/forecast/".concat(e).concat(a)).then(function(){var e=Object(U.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=5;break}return e.next=3,t.json();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}};var Y=function(){var e=localStorage.getItem("quantityAssetsForecast"),t=localStorage.getItem("walletId"),n=Object(s.f)(),l={walletId:t,assetName:"",valueToApply:""},o=Object(a.useState)([]),u=Object(q.a)(o,2),i=u[0],m=u[1],d=i.map((function(e){return e.asset.name})),f=z(l),b=f.values,g=f.handleChange;return r.a.createElement(w,null,r.a.createElement("h1",null,"Would you like to apply?"," ".concat(b.valueToApply)),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=i.find((function(e){return e.asset.name===b.assetName}));_.purchaseAsset({value:parseInt(b.valueToApply),walletId:l.walletId,assetForecastId:t.id}).then((function(){console.log("Investment made successfully!"),n.push("/wallet/dashboard")}))}},r.a.createElement(B,{label:"USD",type:"number",name:"valueToApply",value:b.valueToApply,onChange:g,onBlur:function(){parseInt(b.valueToApply)>=0&&M.getForecast(b.valueToApply,e).then((function(e){m(e)}))},pattern:"[0-9]*",min:"100",step:"100"}),r.a.createElement(B,{label:"Asset",name:"assetName",value:b.assetName,onChange:g,suggestions:d}),r.a.createElement(p,{type:"submit"},"Purchase")),i.length>0&&r.a.createElement("div",{id:"assetsStatistics"},r.a.createElement("h1",null,"Statistics "),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Symbol"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,i.length&&i.map((function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,"BTC"===e.asset.symbol?"-":"".concat(t+1,"\xba")),r.a.createElement("td",null,e.asset.name),r.a.createElement("td",{id:"symbol"},r.a.createElement("span",{className:"BTC"===e.asset.symbol?"BTC":""},e.asset.symbol)),r.a.createElement("td",{className:"currency"},(n=e.price,Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n))),r.a.createElement("td",{id:"amount",className:"number"},parseInt(e.value/e.price)));var n})))),r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted"},"We're using moving average for the last 30 days based on the closing value."),r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted"},"Showing bitcoin and ".concat(e," assets based on your "),r.a.createElement(c.b,{to:"/"},"settings."))),r.a.createElement(c.b,{to:"/"},"Go Homepage"))};var G=function(){var e,t=localStorage.getItem("walletId"),n=Object(a.useState)({id:"",name:"",walletAssets:[]}),l=Object(q.a)(n,2),o=l[0],s=l[1];Object(a.useEffect)((function(){_.getWallet(t).then((function(e){s(e)}))}),[t]);var u=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},i=function(e){return e<=9?"0"+e:e};return r.a.createElement(w,null,r.a.createElement("h1",null,"Your wallet ",o.name," has"," ".concat(o&&(null===(e=o.walletAssets)||void 0===e?void 0:e.length)," "),"assets"),r.a.createElement(c.b,{to:"/"},"Go Homepage"),o.walletAssets.length>0&&r.a.createElement("div",{id:"assetsStatistics"},r.a.createElement("h1",null,"Wallet Assets"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Symbol"),r.a.createElement("th",null,"Purchased"),r.a.createElement("th",null,"Applied"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,o.walletAssets.map((function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,function(e){var t=new Date(Date.parse(e)),n=i(t.getDate())+"-"+i(t.getMonth()+1)+"-"+t.getFullYear(),a=i(t.getHours())+":"+i(t.getMinutes())+":"+i(t.getSeconds());return"".concat(n," ").concat(a)}(e.date)),r.a.createElement("td",null,e.asset.name),r.a.createElement("td",{id:"symbol"},r.a.createElement("span",{className:"BTC"===e.asset.symbol?"BTC":""},e.asset.symbol)),r.a.createElement("td",{className:"currency"},u(e.price)),r.a.createElement("td",{id:"applied",className:"currency"},u(e.value)),r.a.createElement("td",{id:"amount",className:"number"},parseInt(e.value/e.price)))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4",align:"right"},"Total"),r.a.createElement("td",null,u(o.walletAssets.reduce((function(e,t){return e+t.value}),0)))))),r.a.createElement("br",null),r.a.createElement("br",null)))};o.a.render(r.a.createElement(c.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",component:L,exact:!0}),r.a.createElement(s.a,{path:"/wallet/dashboard",component:G}),r.a.createElement(s.a,{path:"/wallet/apply",component:Y}),r.a.createElement(s.a,{component:function(){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("h1",null,"Sorry, we couldn\u2019t find that page"),r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"Go Homepage")))}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.7c98acbc.chunk.js.map